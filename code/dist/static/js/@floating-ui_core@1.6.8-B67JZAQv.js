import{e as M,g as I,r as X,a as N,b as j,p as q,c as Q,d as B,f as Y,h as ne,i as ie,j as se,k as z,m as _,l as $,n as U,o as oe,s as ae,q as Z}from"./@floating-ui_utils@0.2.8-BSxVqCX2.js";function G(e,n,c){let{reference:o,floating:i}=e;const t=Y(n),l=N(n),d=U(l),x=B(n),w=t==="y",r=o.x+o.width/2-i.width/2,s=o.y+o.height/2-i.height/2,m=o[d]/2-i[d]/2;let a;switch(x){case"top":a={x:r,y:o.y-i.height};break;case"bottom":a={x:r,y:o.y+o.height};break;case"right":a={x:o.x+o.width,y:s};break;case"left":a={x:o.x-i.width,y:s};break;default:a={x:o.x,y:o.y}}switch(j(n)){case"start":a[l]-=m*(c&&w?-1:1);break;case"end":a[l]+=m*(c&&w?-1:1);break}return a}const me=async(e,n,c)=>{const{placement:o="bottom",strategy:i="absolute",middleware:t=[],platform:l}=c,d=t.filter(Boolean),x=await(l.isRTL==null?void 0:l.isRTL(n));let w=await l.getElementRects({reference:e,floating:n,strategy:i}),{x:r,y:s}=G(w,o,x),m=o,a={},f=0;for(let g=0;g<d.length;g++){const{name:u,fn:y}=d[g],{x:A,y:v,data:b,reset:p}=await y({x:r,y:s,initialPlacement:o,placement:m,strategy:i,middlewareData:a,rects:w,platform:l,elements:{reference:e,floating:n}});r=A??r,s=v??s,a={...a,[u]:{...a[u],...b}},p&&f<=50&&(f++,typeof p=="object"&&(p.placement&&(m=p.placement),p.rects&&(w=p.rects===!0?await l.getElementRects({reference:e,floating:n,strategy:i}):p.rects),{x:r,y:s}=G(w,m,x)),g=-1)}return{x:r,y:s,placement:m,strategy:i,middlewareData:a}};async function W(e,n){var c;n===void 0&&(n={});const{x:o,y:i,platform:t,rects:l,elements:d,strategy:x}=e,{boundary:w="clippingAncestors",rootBoundary:r="viewport",elementContext:s="floating",altBoundary:m=!1,padding:a=0}=M(n,e),f=I(a),u=d[m?s==="floating"?"reference":"floating":s],y=X(await t.getClippingRect({element:(c=await(t.isElement==null?void 0:t.isElement(u)))==null||c?u:u.contextElement||await(t.getDocumentElement==null?void 0:t.getDocumentElement(d.floating)),boundary:w,rootBoundary:r,strategy:x})),A=s==="floating"?{x:o,y:i,width:l.floating.width,height:l.floating.height}:l.reference,v=await(t.getOffsetParent==null?void 0:t.getOffsetParent(d.floating)),b=await(t.isElement==null?void 0:t.isElement(v))?await(t.getScale==null?void 0:t.getScale(v))||{x:1,y:1}:{x:1,y:1},p=X(t.convertOffsetParentRelativeRectToViewportRelativeRect?await t.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:A,offsetParent:v,strategy:x}):A);return{top:(y.top-p.top+f.top)/b.y,bottom:(p.bottom-y.bottom+f.bottom)/b.y,left:(y.left-p.left+f.left)/b.x,right:(p.right-y.right+f.right)/b.x}}const de=e=>({name:"arrow",options:e,async fn(n){const{x:c,y:o,placement:i,rects:t,platform:l,elements:d,middlewareData:x}=n,{element:w,padding:r=0}=M(e,n)||{};if(w==null)return{};const s=I(r),m={x:c,y:o},a=N(i),f=U(a),g=await l.getDimensions(w),u=a==="y",y=u?"top":"left",A=u?"bottom":"right",v=u?"clientHeight":"clientWidth",b=t.reference[f]+t.reference[a]-m[a]-t.floating[f],p=m[a]-t.reference[a],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(w));let S=P?P[v]:0;(!S||!await(l.isElement==null?void 0:l.isElement(P)))&&(S=d.floating[v]||t.floating[f]);const T=b/2-p/2,C=S/2-g[f]/2-1,h=_(s[y],C),O=_(s[A],C),D=h,k=S-g[f]-O,R=S/2-g[f]/2+T,F=z(D,R,k),E=!x.arrow&&j(i)!=null&&R!==F&&t.reference[f]/2-(R<D?h:O)-g[f]/2<0,L=E?R<D?R-D:R-k:0;return{[a]:m[a]+L,data:{[a]:F,centerOffset:R-F-L,...E&&{alignmentOffset:L}},reset:E}}});function ce(e,n,c){return(e?[...c.filter(i=>j(i)===e),...c.filter(i=>j(i)!==e)]:c.filter(i=>B(i)===i)).filter(i=>e?j(i)===e||(n?oe(i)!==i:!1):!0)}const ue=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(n){var c,o,i;const{rects:t,middlewareData:l,placement:d,platform:x,elements:w}=n,{crossAxis:r=!1,alignment:s,allowedPlacements:m=q,autoAlignment:a=!0,...f}=M(e,n),g=s!==void 0||m===q?ce(s||null,a,m):m,u=await W(n,f),y=((c=l.autoPlacement)==null?void 0:c.index)||0,A=g[y];if(A==null)return{};const v=Q(A,t,await(x.isRTL==null?void 0:x.isRTL(w.floating)));if(d!==A)return{reset:{placement:g[0]}};const b=[u[B(A)],u[v[0]],u[v[1]]],p=[...((o=l.autoPlacement)==null?void 0:o.overflows)||[],{placement:A,overflows:b}],P=g[y+1];if(P)return{data:{index:y+1,overflows:p},reset:{placement:P}};const S=p.map(h=>{const O=j(h.placement);return[h.placement,O&&r?h.overflows.slice(0,2).reduce((D,k)=>D+k,0):h.overflows[0],h.overflows]}).sort((h,O)=>h[1]-O[1]),C=((i=S.filter(h=>h[2].slice(0,j(h[0])?2:3).every(O=>O<=0))[0])==null?void 0:i[0])||S[0][0];return C!==d?{data:{index:y+1,overflows:p},reset:{placement:C}}:{}}}},ge=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var c,o;const{placement:i,middlewareData:t,rects:l,initialPlacement:d,platform:x,elements:w}=n,{mainAxis:r=!0,crossAxis:s=!0,fallbackPlacements:m,fallbackStrategy:a="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0,...u}=M(e,n);if((c=t.arrow)!=null&&c.alignmentOffset)return{};const y=B(i),A=Y(d),v=B(d)===d,b=await(x.isRTL==null?void 0:x.isRTL(w.floating)),p=m||(v||!g?[ne(d)]:ie(d)),P=f!=="none";!m&&P&&p.push(...se(d,g,f,b));const S=[d,...p],T=await W(n,u),C=[];let h=((o=t.flip)==null?void 0:o.overflows)||[];if(r&&C.push(T[y]),s){const R=Q(i,l,b);C.push(T[R[0]],T[R[1]])}if(h=[...h,{placement:i,overflows:C}],!C.every(R=>R<=0)){var O,D;const R=(((O=t.flip)==null?void 0:O.index)||0)+1,F=S[R];if(F)return{data:{index:R,overflows:h},reset:{placement:F}};let E=(D=h.filter(L=>L.overflows[0]<=0).sort((L,H)=>L.overflows[1]-H.overflows[1])[0])==null?void 0:D.placement;if(!E)switch(a){case"bestFit":{var k;const L=(k=h.filter(H=>{if(P){const V=Y(H.placement);return V===A||V==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(V=>V>0).reduce((V,te)=>V+te,0)]).sort((H,V)=>H[1]-V[1])[0])==null?void 0:k[0];L&&(E=L);break}case"initialPlacement":E=d;break}if(i!==E)return{reset:{placement:E}}}return{}}}};function J(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function K(e){return ae.some(n=>e[n]>=0)}const he=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:c}=n,{strategy:o="referenceHidden",...i}=M(e,n);switch(o){case"referenceHidden":{const t=await W(n,{...i,elementContext:"reference"}),l=J(t,c.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:K(l)}}}case"escaped":{const t=await W(n,{...i,altBoundary:!0}),l=J(t,c.floating);return{data:{escapedOffsets:l,escaped:K(l)}}}default:return{}}}}};function ee(e){const n=_(...e.map(t=>t.left)),c=_(...e.map(t=>t.top)),o=$(...e.map(t=>t.right)),i=$(...e.map(t=>t.bottom));return{x:n,y:c,width:o-n,height:i-c}}function le(e){const n=e.slice().sort((i,t)=>i.y-t.y),c=[];let o=null;for(let i=0;i<n.length;i++){const t=n[i];!o||t.y-o.y>o.height/2?c.push([t]):c[c.length-1].push(t),o=t}return c.map(i=>X(ee(i)))}const xe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(n){const{placement:c,elements:o,rects:i,platform:t,strategy:l}=n,{padding:d=2,x,y:w}=M(e,n),r=Array.from(await(t.getClientRects==null?void 0:t.getClientRects(o.reference))||[]),s=le(r),m=X(ee(r)),a=I(d);function f(){if(s.length===2&&s[0].left>s[1].right&&x!=null&&w!=null)return s.find(u=>x>u.left-a.left&&x<u.right+a.right&&w>u.top-a.top&&w<u.bottom+a.bottom)||m;if(s.length>=2){if(Y(c)==="y"){const h=s[0],O=s[s.length-1],D=B(c)==="top",k=h.top,R=O.bottom,F=D?h.left:O.left,E=D?h.right:O.right,L=E-F,H=R-k;return{top:k,bottom:R,left:F,right:E,width:L,height:H,x:F,y:k}}const u=B(c)==="left",y=$(...s.map(h=>h.right)),A=_(...s.map(h=>h.left)),v=s.filter(h=>u?h.left===A:h.right===y),b=v[0].top,p=v[v.length-1].bottom,P=A,S=y,T=S-P,C=p-b;return{top:b,bottom:p,left:P,right:S,width:T,height:C,x:P,y:b}}return m}const g=await t.getElementRects({reference:{getBoundingClientRect:f},floating:o.floating,strategy:l});return i.reference.x!==g.reference.x||i.reference.y!==g.reference.y||i.reference.width!==g.reference.width||i.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function re(e,n){const{placement:c,platform:o,elements:i}=e,t=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=B(c),d=j(c),x=Y(c)==="y",w=["left","top"].includes(l)?-1:1,r=t&&x?-1:1,s=M(n,e);let{mainAxis:m,crossAxis:a,alignmentAxis:f}=typeof s=="number"?{mainAxis:s,crossAxis:0,alignmentAxis:null}:{mainAxis:s.mainAxis||0,crossAxis:s.crossAxis||0,alignmentAxis:s.alignmentAxis};return d&&typeof f=="number"&&(a=d==="end"?f*-1:f),x?{x:a*r,y:m*w}:{x:m*w,y:a*r}}const pe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var c,o;const{x:i,y:t,placement:l,middlewareData:d}=n,x=await re(n,e);return l===((c=d.offset)==null?void 0:c.placement)&&(o=d.arrow)!=null&&o.alignmentOffset?{}:{x:i+x.x,y:t+x.y,data:{...x,placement:l}}}}},we=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:c,y:o,placement:i}=n,{mainAxis:t=!0,crossAxis:l=!1,limiter:d={fn:u=>{let{x:y,y:A}=u;return{x:y,y:A}}},...x}=M(e,n),w={x:c,y:o},r=await W(n,x),s=Y(B(i)),m=Z(s);let a=w[m],f=w[s];if(t){const u=m==="y"?"top":"left",y=m==="y"?"bottom":"right",A=a+r[u],v=a-r[y];a=z(A,a,v)}if(l){const u=s==="y"?"top":"left",y=s==="y"?"bottom":"right",A=f+r[u],v=f-r[y];f=z(A,f,v)}const g=d.fn({...n,[m]:a,[s]:f});return{...g,data:{x:g.x-c,y:g.y-o,enabled:{[m]:t,[s]:l}}}}}},ye=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:c,y:o,placement:i,rects:t,middlewareData:l}=n,{offset:d=0,mainAxis:x=!0,crossAxis:w=!0}=M(e,n),r={x:c,y:o},s=Y(i),m=Z(s);let a=r[m],f=r[s];const g=M(d,n),u=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(x){const v=m==="y"?"height":"width",b=t.reference[m]-t.floating[v]+u.mainAxis,p=t.reference[m]+t.reference[v]-u.mainAxis;a<b?a=b:a>p&&(a=p)}if(w){var y,A;const v=m==="y"?"width":"height",b=["top","left"].includes(B(i)),p=t.reference[s]-t.floating[v]+(b&&((y=l.offset)==null?void 0:y[s])||0)+(b?0:u.crossAxis),P=t.reference[s]+t.reference[v]+(b?0:((A=l.offset)==null?void 0:A[s])||0)-(b?u.crossAxis:0);f<p?f=p:f>P&&(f=P)}return{[m]:a,[s]:f}}}},ve=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var c,o;const{placement:i,rects:t,platform:l,elements:d}=n,{apply:x=()=>{},...w}=M(e,n),r=await W(n,w),s=B(i),m=j(i),a=Y(i)==="y",{width:f,height:g}=t.floating;let u,y;s==="top"||s==="bottom"?(u=s,y=m===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(y=s,u=m==="end"?"top":"bottom");const A=g-r.top-r.bottom,v=f-r.left-r.right,b=_(g-r[u],A),p=_(f-r[y],v),P=!n.middlewareData.shift;let S=b,T=p;if((c=n.middlewareData.shift)!=null&&c.enabled.x&&(T=v),(o=n.middlewareData.shift)!=null&&o.enabled.y&&(S=A),P&&!m){const h=$(r.left,0),O=$(r.right,0),D=$(r.top,0),k=$(r.bottom,0);a?T=f-2*(h!==0||O!==0?h+O:$(r.left,r.right)):S=g-2*(D!==0||k!==0?D+k:$(r.top,r.bottom))}await x({...n,availableWidth:T,availableHeight:S});const C=await l.getDimensions(d.floating);return f!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};export{ue as a,ve as b,de as c,W as d,me as e,ge as f,he as h,xe as i,ye as l,pe as o,we as s};
