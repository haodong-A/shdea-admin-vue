import{E as y,g as w}from"./bytemd@1.21.0-MOao5Iqx.js";import{d as g,w as v,o as h,a as k,c as _,b as p,n as b,e as C}from"./@vue_runtime-core@3.5.12-Bt7zQ28n.js";import{r as l}from"./@vue_reactivity@3.5.12-vtUNgENk.js";const S=g({props:{value:String,plugins:Array,sanitize:Function,remarkRehype:Object,mode:String,previewDebounce:Number,placeholder:String,editorConfig:Object,locale:Object,uploadImages:Function},emits:["change"],setup(e,{emit:r}){const t=l(null),o=l(null);return v(()=>e,n=>{var a;const s={...n};for(let i in s)s[i]===void 0&&delete s[i];(a=o.value)==null||a.$set(s)},{deep:!0}),h(()=>{const n=new y({target:t.value,props:e});n.$on("change",a=>{r("change",a.detail.value)}),o.value=n}),{el:t}}}),$=(e,r)=>{const t=e.__vccOpts||e;for(const[o,n]of r)t[o]=n;return t},B={ref:"el"};function O(e,r,t,o,n,a){return k(),_("div",B,null,512)}const M=$(S,[["render",O]]),R=g({props:["value","plugins","sanitize","remarkRehype"],setup(e,r){const t=l(null),o=l([]),n=p(()=>w(e).processSync(e.value)),a=p(()=>[n,e.plugins,e.sanitize,e.remarkRehype]);v(a,()=>{i(),b(()=>{d()})},{deep:!0}),h(()=>{d()}),C(()=>{i()});const s=c=>{const f=c.target;if(f.tagName!=="A")return;const u=f.getAttribute("href");if(!u||!u.startsWith("#"))return;const m=t.value.querySelector("#user-content-"+u.slice(1));m&&m.scrollIntoView()},i=()=>{o.value.length&&o.value.forEach(c=>c&&c())},d=()=>{e.plugins&&n&&(o.value=e.plugins.map(({viewerEffect:c})=>c&&c({markdownBody:t.value,file:n})))};return{markdownBody:t,file:n,handleClick:s}}}),j=["innerHTML"];function x(e,r,t,o,n,a){return k(),_("div",{innerHTML:e.file.toString(),className:"markdown-body",onClick:r[0]||(r[0]=(...s)=>e.handleClick&&e.handleClick(...s)),ref:"markdownBody"},null,8,j)}const N=$(R,[["render",x]]);export{M as e,N as v};
