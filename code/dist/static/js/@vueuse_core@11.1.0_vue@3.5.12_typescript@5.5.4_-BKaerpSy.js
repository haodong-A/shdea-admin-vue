import{n as G,i as U,t as O,a as P,u as X,b as q,c as Y,d as B,e as Z,w as ee}from"./@vueuse_shared@11.1.0_vue@3.5.12_typescript@5.5.4_-DXriuop5.js";import{w as H,b as k,o as te,n as ne,l as re,x as ae}from"./@vue_runtime-core@3.5.12-Bt7zQ28n.js";import{r as N,s as V,j as oe}from"./@vue_reactivity@3.5.12-vtUNgENk.js";const M=q?window:void 0,I=q?window.navigator:void 0;function K(e){var a;const t=O(e);return(a=t==null?void 0:t.$el)!=null?a:t}function z(...e){let a,t,s,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,s,n]=e,a=M):[a,t,s,n]=e,!a)return G;Array.isArray(t)||(t=[t]),Array.isArray(s)||(s=[s]);const i=[],p=()=>{i.forEach(c=>c()),i.length=0},l=(c,u,C,w)=>(c.addEventListener(u,C,w),()=>c.removeEventListener(u,C,w)),m=H(()=>[K(a),O(n)],([c,u])=>{if(p(),!c)return;const C=U(u)?{...u}:u;i.push(...t.flatMap(w=>s.map(S=>l(c,w,S,C))))},{immediate:!0,flush:"post"}),f=()=>{m(),p()};return P(f),f}function se(){const e=N(!1),a=re();return a&&te(()=>{e.value=!0},a),e}function W(e){const a=se();return k(()=>(a.value,!!e()))}function ie(e,a={}){const{window:t=M}=a,s=W(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let n;const i=N(!1),p=f=>{i.value=f.matches},l=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",p):n.removeListener(p))},m=ae(()=>{s.value&&(l(),n=t.matchMedia(O(e)),"addEventListener"in n?n.addEventListener("change",p):n.addListener(p),i.value=n.matches)});return P(()=>{m(),l(),n=void 0}),i}function J(e,a={}){const{controls:t=!1,navigator:s=I}=a,n=W(()=>s&&"permissions"in s),i=V(),p=typeof e=="string"?{name:e}:e,l=V(),m=()=>{var c,u;l.value=(u=(c=i.value)==null?void 0:c.state)!=null?u:"prompt"};z(i,"change",m);const f=Z(async()=>{if(n.value){if(!i.value)try{i.value=await s.permissions.query(p)}catch{i.value=void 0}finally{m()}if(t)return oe(i.value)}});return f(),t?{state:l,isSupported:n,query:f}:l}function he(e={}){const{navigator:a=I,read:t=!1,source:s,copiedDuring:n=1500,legacy:i=!1}=e,p=W(()=>a&&"clipboard"in a),l=J("clipboard-read"),m=J("clipboard-write"),f=k(()=>p.value||i),c=N(""),u=N(!1),C=X(()=>u.value=!1,n);function w(){p.value&&A(l.value)?a.clipboard.readText().then(o=>{c.value=o}):c.value=b()}f.value&&t&&z(["copy","cut"],w);async function S(o=O(s)){f.value&&o!=null&&(p.value&&A(m.value)?await a.clipboard.writeText(o):y(o),c.value=o,u.value=!0,C.start())}function y(o){const h=document.createElement("textarea");h.value=o??"",h.style.position="absolute",h.style.opacity="0",document.body.appendChild(h),h.select(),document.execCommand("copy"),h.remove()}function b(){var o,h,v;return(v=(h=(o=document==null?void 0:document.getSelection)==null?void 0:o.call(document))==null?void 0:h.toString())!=null?v:""}function A(o){return o==="granted"||o==="prompt"}return{isSupported:f,text:c,copied:u,copy:S}}const R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j="__vueuse_ssr_handlers__",ue=le();function le(){return j in R||(R[j]=R[j]||{}),R[j]}function Q(e,a){return ue[e]||a}function $(e){return ie("(prefers-color-scheme: dark)",e)}function ce(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const de={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},F="vueuse-storage";function fe(e,a,t,s={}){var n;const{flush:i="pre",deep:p=!0,listenToStorageChanges:l=!0,writeDefaults:m=!0,mergeDefaults:f=!1,shallow:c,window:u=M,eventFilter:C,onError:w=r=>{console.error(r)},initOnMounted:S}=s,y=(c?V:N)(typeof a=="function"?a():a);if(!t)try{t=Q("getDefaultStorage",()=>{var r;return(r=M)==null?void 0:r.localStorage})()}catch(r){w(r)}if(!t)return y;const b=O(a),A=ce(b),o=(n=s.serializer)!=null?n:de[A],{pause:h,resume:v}=ee(y,()=>x(y.value),{flush:i,deep:p,eventFilter:C});u&&l&&B(()=>{t instanceof Storage?z(u,"storage",_):z(u,F,L),S&&_()}),S||_();function E(r,d){if(u){const g={key:e,oldValue:r,newValue:d,storageArea:t};u.dispatchEvent(t instanceof Storage?new StorageEvent("storage",g):new CustomEvent(F,{detail:g}))}}function x(r){try{const d=t.getItem(e);if(r==null)E(d,null),t.removeItem(e);else{const g=o.write(r);d!==g&&(t.setItem(e,g),E(d,g))}}catch(d){w(d)}}function T(r){const d=r?r.newValue:t.getItem(e);if(d==null)return m&&b!=null&&t.setItem(e,o.write(b)),b;if(!r&&f){const g=o.read(d);return typeof f=="function"?f(g,b):A==="object"&&!Array.isArray(g)?{...b,...g}:g}else return typeof d!="string"?d:o.read(d)}function _(r){if(!(r&&r.storageArea!==t)){if(r&&r.key==null){y.value=b;return}if(!(r&&r.key!==e)){h();try{(r==null?void 0:r.newValue)!==o.write(y.value)&&(y.value=T(r))}catch(d){w(d)}finally{r?ne(v):v()}}}}function L(r){_(r.detail)}return y}const pe="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function me(e={}){const{selector:a="html",attribute:t="class",initialValue:s="auto",window:n=M,storage:i,storageKey:p="vueuse-color-scheme",listenToStorageChanges:l=!0,storageRef:m,emitAuto:f,disableTransition:c=!0}=e,u={auto:"",light:"light",dark:"dark",...e.modes||{}},C=$({window:n}),w=k(()=>C.value?"dark":"light"),S=m||(p==null?Y(s):fe(p,s,i,{window:n,listenToStorageChanges:l})),y=k(()=>S.value==="auto"?w.value:S.value),b=Q("updateHTMLAttrs",(v,E,x)=>{const T=typeof v=="string"?n==null?void 0:n.document.querySelector(v):K(v);if(!T)return;const _=new Set,L=new Set;let r=null;if(E==="class"){const g=x.split(/\s/g);Object.values(u).flatMap(D=>(D||"").split(/\s/g)).filter(Boolean).forEach(D=>{g.includes(D)?_.add(D):L.add(D)})}else r={key:E,value:x};if(_.size===0&&L.size===0&&r===null)return;let d;c&&(d=n.document.createElement("style"),d.appendChild(document.createTextNode(pe)),n.document.head.appendChild(d));for(const g of _)T.classList.add(g);for(const g of L)T.classList.remove(g);r&&T.setAttribute(r.key,r.value),c&&(n.getComputedStyle(d).opacity,document.head.removeChild(d))});function A(v){var E;b(a,t,(E=u[v])!=null?E:v)}function o(v){e.onChanged?e.onChanged(v,A):A(v)}H(y,o,{flush:"post",immediate:!0}),B(()=>o(y.value));const h=k({get(){return f?S.value:y.value},set(v){S.value=v}});try{return Object.assign(h,{store:S,system:w,state:y})}catch{return h}}function we(e={}){const{valueDark:a="dark",valueLight:t="",window:s=M}=e,n=me({...e,onChanged:(l,m)=>{var f;e.onChanged?(f=e.onChanged)==null||f.call(e,l==="dark",m,l):m(l)},modes:{dark:a,light:t}}),i=k(()=>n.system?n.system.value:$({window:s}).value?"dark":"light");return k({get(){return n.value==="dark"},set(l){const m=l?"dark":"light";i.value===m?n.value="auto":n.value=m}})}export{he as a,we as b,z as u};
