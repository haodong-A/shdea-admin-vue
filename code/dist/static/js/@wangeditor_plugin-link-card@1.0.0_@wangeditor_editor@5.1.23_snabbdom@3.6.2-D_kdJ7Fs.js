import{a as q}from"./@braintree_sanitize-url@6.0.4-BB1FEM6a.js";import{r as Q}from"./@wangeditor_editor@5.1.23-BNs7_II4.js";var V={exports:{}};(function(O,X){(function(L,H){O.exports=H(Q)})(self,L=>(()=>{var H={641:(g,x,p)=>{p.d(x,{Z:()=>S});var d=p(15),w=p.n(d),b=p(645),C=p.n(b)()(w());C.push([g.id,`.w-e-textarea-link-card-container {
  width: 450px;
  margin: 10px auto;
  background-color: var(--w-e-textarea-slight-bg-color);
  border-radius: 10px;
  display: flex;
  padding: 10px 20px;
}
.w-e-textarea-link-card-text-container {
  flex: 1;
  padding-right: 20px;
}
.w-e-textarea-link-card-text-container p {
  margin-top: 5px !important;
  font-weight: bold;
}
.w-e-textarea-link-card-text-container span {
  opacity: 0.5;
}
.w-e-textarea-link-card-icon-container {
  width: 64px;
  overflow: hidden;
}
.w-e-textarea-link-card-icon-container img {
  width: 100%;
  height: 100%;
  -o-object-fit: contain;
     object-fit: contain;
}
`,"",{version:3,sources:["webpack://./src/asserts/index.less"],names:[],mappings:"AAAA;EACE,YAAA;EACA,iBAAA;EACA,qDAAA;EACA,mBAAA;EACA,aAAA;EACA,kBAAA;AACF;AAEA;EACE,OAAA;EACA,mBAAA;AAAF;AAFA;EAKI,0BAAA;EACA,iBAAA;AAAJ;AANA;EAUI,YAAA;AADJ;AAKA;EACE,WAAA;EACA,gBAAA;AAHF;AACA;EAKI,WAAA;EACA,YAAA;EACA,sBAAA;KAAA,mBAAA;AAHJ",sourcesContent:[`.w-e-textarea-link-card-container {
  width: 450px;
  margin: 10px auto;
  background-color: var(--w-e-textarea-slight-bg-color);
  border-radius: 10px;
  display: flex;
  padding: 10px 20px;
}

.w-e-textarea-link-card-text-container {
  flex: 1;
  padding-right: 20px;

  p {
    margin-top: 5px !important;
    font-weight: bold;
  }

  span {
    opacity: .5;
  }
}

.w-e-textarea-link-card-icon-container {
  width: 64px;
  overflow: hidden;

  img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }
}`],sourceRoot:""}]);const S=C},645:g=>{g.exports=function(x){var p=[];return p.toString=function(){return this.map(function(d){var w=x(d);return d[2]?"@media ".concat(d[2]," {").concat(w,"}"):w}).join("")},p.i=function(d,w,b){typeof d=="string"&&(d=[[null,d,""]]);var C={};if(b)for(var S=0;S<this.length;S++){var j=this[S][0];j!=null&&(C[j]=!0)}for(var N=0;N<d.length;N++){var B=[].concat(d[N]);b&&C[B[0]]||(w&&(B[2]?B[2]="".concat(w," and ").concat(B[2]):B[2]=w),p.push(B))}},p}},15:g=>{function x(p,d){(d==null||d>p.length)&&(d=p.length);for(var w=0,b=new Array(d);w<d;w++)b[w]=p[w];return b}g.exports=function(p){var d,w,b=(w=4,function(o){if(Array.isArray(o))return o}(d=p)||function(o,i){var l=o&&(typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"]);if(l!=null){var f,t,n=[],e=!0,a=!1;try{for(l=l.call(o);!(e=(f=l.next()).done)&&(n.push(f.value),!i||n.length!==i);e=!0);}catch(s){a=!0,t=s}finally{try{e||l.return==null||l.return()}finally{if(a)throw t}}return n}}(d,w)||function(o,i){if(o){if(typeof o=="string")return x(o,i);var l=Object.prototype.toString.call(o).slice(8,-1);return l==="Object"&&o.constructor&&(l=o.constructor.name),l==="Map"||l==="Set"?Array.from(o):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?x(o,i):void 0}}(d,w)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),C=b[1],S=b[3];if(!S)return C;if(typeof btoa=="function"){var j=btoa(unescape(encodeURIComponent(JSON.stringify(S)))),N="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(j),B="/*# ".concat(N," */"),M=S.sources.map(function(o){return"/*# sourceURL=".concat(S.sourceRoot||"").concat(o," */")});return[C].concat(M).concat([B]).join(`
`)}return[C].join(`
`)}},379:(g,x,p)=>{var d,w=function(){var t={};return function(n){if(t[n]===void 0){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch{e=null}t[n]=e}return t[n]}}(),b=[];function C(t){for(var n=-1,e=0;e<b.length;e++)if(b[e].identifier===t){n=e;break}return n}function S(t,n){for(var e={},a=[],s=0;s<t.length;s++){var u=t[s],r=n.base?u[0]+n.base:u[0],v=e[r]||0,c="".concat(r," ").concat(v);e[r]=v+1;var m=C(c),U={css:u[1],media:u[2],sourceMap:u[3]};m!==-1?(b[m].references++,b[m].updater(U)):b.push({identifier:c,updater:f(U,n),references:1}),a.push(c)}return a}function j(t){var n=document.createElement("style"),e=t.attributes||{};if(e.nonce===void 0){var a=p.nc;a&&(e.nonce=a)}if(Object.keys(e).forEach(function(u){n.setAttribute(u,e[u])}),typeof t.insert=="function")t.insert(n);else{var s=w(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}return n}var N,B=(N=[],function(t,n){return N[t]=n,N.filter(Boolean).join(`
`)});function M(t,n,e,a){var s=e?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(t.styleSheet)t.styleSheet.cssText=B(n,s);else{var u=document.createTextNode(s),r=t.childNodes;r[n]&&t.removeChild(r[n]),r.length?t.insertBefore(u,r[n]):t.appendChild(u)}}function o(t,n,e){var a=e.css,s=e.media,u=e.sourceMap;if(s?t.setAttribute("media",s):t.removeAttribute("media"),u&&typeof btoa<"u"&&(a+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(u))))," */")),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var i=null,l=0;function f(t,n){var e,a,s;if(n.singleton){var u=l++;e=i||(i=j(n)),a=M.bind(null,e,u,!1),s=M.bind(null,e,u,!0)}else e=j(n),a=o.bind(null,e,n),s=function(){(function(r){if(r.parentNode===null)return!1;r.parentNode.removeChild(r)})(e)};return a(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;a(t=r)}else s()}}g.exports=function(t,n){(n=n||{}).singleton||typeof n.singleton=="boolean"||(n.singleton=(d===void 0&&(d=!!(window&&document&&document.all&&!window.atob)),d));var e=S(t=t||[],n);return function(a){if(a=a||[],Object.prototype.toString.call(a)==="[object Array]"){for(var s=0;s<e.length;s++){var u=C(e[s]);b[u].references--}for(var r=S(a,n),v=0;v<e.length;v++){var c=C(e[v]);b[c].references===0&&(b[c].updater(),b.splice(c,1))}e=r}}}},857:g=>{g.exports=L}},W={};function E(g){var x=W[g];if(x!==void 0)return x.exports;var p=W[g]={id:g,exports:{}};return H[g](p,p.exports,E),p.exports}E.n=g=>{var x=g&&g.__esModule?()=>g.default:()=>g;return E.d(x,{a:x}),x},E.d=(g,x)=>{for(var p in x)E.o(x,p)&&!E.o(g,p)&&Object.defineProperty(g,p,{enumerable:!0,get:x[p]})},E.o=(g,x)=>Object.prototype.hasOwnProperty.call(g,x),E.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var K={};return(()=>{E.r(K),E.d(K,{default:()=>M});var g=E(379),x=E.n(g),p=E(641);x()(p.Z,{insert:"head",singleton:!1}),p.Z.locals;var d=E(857);(0,d.i18nAddResources)("en",{linkCard:{toCard:"To Card"}}),(0,d.i18nAddResources)("zh-CN",{linkCard:{toCard:"转为卡片"}});function w(o,i,l,f,t){return{sel:o,data:i,children:l,text:f,elm:t,key:i===void 0?void 0:i.key}}const b=Array.isArray;function C(o){return typeof o=="string"||typeof o=="number"||o instanceof String||o instanceof Number}function S(o,i,l){if(o.ns="http://www.w3.org/2000/svg",l!=="foreignObject"&&i!==void 0)for(let f=0;f<i.length;++f){const t=i[f];if(typeof t=="string")continue;const n=t.data;n!==void 0&&S(n,t.children,t.sel)}}function j(o,i,l){let f,t,n,e={};if(l!==void 0?(i!==null&&(e=i),b(l)?f=l:C(l)?t=l.toString():l&&l.sel&&(f=[l])):i!=null&&(b(i)?f=i:C(i)?t=i.toString():i&&i.sel?f=[i]:e=i),f!==void 0)for(n=0;n<f.length;++n)C(f[n])&&(f[n]=w(void 0,void 0,void 0,f[n],void 0));return o[0]!=="s"||o[1]!=="v"||o[2]!=="g"||o.length!==3&&o[3]!=="."&&o[3]!=="#"||S(e,f,o),w(o,e,f,t,void 0)}const N={type:"link-card",renderElem:function(o,i,l){var f=d.DomEditor.isNodeSelected(l,o),t=o,n=t.title,e=t.link,a=t.iconImgSrc,s=j("div",{props:{className:"w-e-textarea-link-card-text-container"}},[j("p",{},n),j("span",{},e)]),u=j("div",{props:{className:"w-e-textarea-link-card-icon-container"}},[j("img",{props:{src:a||"data:image/png;base64,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"}})]);return j("div",{props:{contentEditable:!1,className:"w-e-textarea-link-card-container"},dataset:{selected:f?"true":""},on:{mousedown:function(r){return r.preventDefault()}}},[s,u])}},B=function(){function o(){this.title=(0,d.t)("linkCard.toCard"),this.iconSvg="",this.tag="button"}return o.prototype.getSelectedLinkElem=function(i){var l=d.DomEditor.getSelectedNodeByType(i,"link");return l??null},o.prototype.getValue=function(i){return""},o.prototype.isActive=function(i){return!1},o.prototype.isDisabled=function(i){return i.selection==null||this.getSelectedLinkElem(i)==null},o.prototype.exec=function(i,l){return f=this,t=void 0,e=function(){var a,s,u,r,v,c,m,U,D,A;return function(I,R){var Y,T,h,P,k={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return P={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function Z(F){return function(G){return function(y){if(Y)throw new TypeError("Generator is already executing.");for(;k;)try{if(Y=1,T&&(h=2&y[0]?T.return:y[0]?T.throw||((h=T.return)&&h.call(T),0):T.next)&&!(h=h.call(T,y[1])).done)return h;switch(T=0,h&&(y=[2&y[0],h.value]),y[0]){case 0:case 1:h=y;break;case 4:return k.label++,{value:y[1],done:!1};case 5:k.label++,T=y[1],y=[0];continue;case 7:y=k.ops.pop(),k.trys.pop();continue;default:if(!((h=(h=k.trys).length>0&&h[h.length-1])||y[0]!==6&&y[0]!==2)){k=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){k.label=y[1];break}if(y[0]===6&&k.label<h[1]){k.label=h[1],h=y;break}if(h&&k.label<h[2]){k.label=h[2],k.ops.push(y);break}h[2]&&k.ops.pop(),k.trys.pop();continue}y=R.call(I,k)}catch(J){y=[6,J],T=0}finally{Y=h=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([F,G])}}}(this,function(I){switch(I.label){case 0:if(this.isDisabled(i))return[2];if((a=this.getSelectedLinkElem(i))==null)return[2];if(typeof(s=i.getMenuConfig("convertToLinkCard").getLinkCardInfo)!="function")return[2];u=a.url,r=d.SlateNode.string(a),I.label=1;case 1:return I.trys.push([1,3,,4]),[4,s(r,u)];case 2:return v=I.sent(),c=v.title,m=v.iconImgSrc,U=d.DomEditor.findPath(i,a),d.SlateTransforms.removeNodes(i,{at:U}),d.SlateTransforms.splitNodes(i,{always:!0}),D={type:"link-card",link:u,title:c,iconImgSrc:m,children:[{text:""}]},d.SlateTransforms.insertNodes(i,D),[3,4];case 3:return A=I.sent(),console.error("Convert to link-cart error",A),[3,4];case 4:return[2]}})},new((n=void 0)||(n=Promise))(function(a,s){function u(c){try{v(e.next(c))}catch(m){s(m)}}function r(c){try{v(e.throw(c))}catch(m){s(m)}}function v(c){var m;c.done?a(c.value):(m=c.value,m instanceof n?m:new n(function(U){U(m)})).then(u,r)}v((e=e.apply(f,t||[])).next())});var f,t,n,e},o}(),M={editorPlugin:function(o){var i=o.isVoid,l=o.normalizeNode,f=o;return f.isVoid=function(t){return d.DomEditor.getNodeType(t)==="link-card"||i(t)},f.normalizeNode=function(t){var n=function(v,c){var m=typeof Symbol=="function"&&v[Symbol.iterator];if(!m)return v;var U,D,A=m.call(v),I=[];try{for(;(c===void 0||c-- >0)&&!(U=A.next()).done;)I.push(U.value)}catch(R){D={error:R}}finally{try{U&&!U.done&&(m=A.return)&&m.call(A)}finally{if(D)throw D.error}}return I}(t,2),e=n[0],a=n[1];if(d.DomEditor.getNodeType(e)!=="link-card")return l([e,a]);var s=(f.children||[])[a[0]+1]||{},u=d.DomEditor.getNodeType(s);if(u!=="paragraph"&&u!=="blockquote"&&!u.startsWith("header")){var r=[a[0]+1];d.SlateTransforms.insertNodes(f,{type:"paragraph",children:[{text:""}]},{at:r})}},f},renderElems:[N],elemsToHtml:[{type:"link-card",elemToHtml:function(o,i){var l=o,f=l.title,t=f===void 0?"":f,n=l.link,e=n===void 0?"":n,a=l.iconImgSrc,s=a===void 0?"":a;return'<div data-w-e-type="link-card" data-w-e-is-void data-title="'.concat(t,'" data-link="').concat(e,'" data-iconImgSrc="').concat(s,`">
    <div class="info-container">
      <div class="title-container"><p>`).concat(t,`</p></div>
      <div class="link-container"><span>`).concat(e,`</span></div>
    </div>
    <div class="icon-container">
      <img src="`).concat(s,`"/>
    </div>
  </div>`)}}],parseElemsHtml:[{selector:'div[data-w-e-type="link-card"]',parseElemHtml:function(o,i,l){return{type:"link-card",link:o.getAttribute("data-link")||"",title:o.getAttribute("data-title")||"",iconImgSrc:o.getAttribute("data-iconImgSrc")||"",children:[{text:""}]}}}],menus:[{key:"convertToLinkCard",factory:function(){return new B},config:{getLinkCardInfo:function(o,i){return l=this,f=void 0,n=function(){return function(e,a){var s,u,r,v,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return v={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function m(U){return function(D){return function(A){if(s)throw new TypeError("Generator is already executing.");for(;c;)try{if(s=1,u&&(r=2&A[0]?u.return:A[0]?u.throw||((r=u.return)&&r.call(u),0):u.next)&&!(r=r.call(u,A[1])).done)return r;switch(u=0,r&&(A=[2&A[0],r.value]),A[0]){case 0:case 1:r=A;break;case 4:return c.label++,{value:A[1],done:!1};case 5:c.label++,u=A[1],A=[0];continue;case 7:A=c.ops.pop(),c.trys.pop();continue;default:if(!((r=(r=c.trys).length>0&&r[r.length-1])||A[0]!==6&&A[0]!==2)){c=0;continue}if(A[0]===3&&(!r||A[1]>r[0]&&A[1]<r[3])){c.label=A[1];break}if(A[0]===6&&c.label<r[1]){c.label=r[1],r=A;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(A);break}r[2]&&c.ops.pop(),c.trys.pop();continue}A=a.call(e,c)}catch(I){A=[6,I],u=0}finally{s=r=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([U,D])}}}(this,function(e){return[2,new Promise(function(a){setTimeout(function(){a({title:o,iconImgSrc:""})},100)})]})},new((t=void 0)||(t=Promise))(function(e,a){function s(v){try{r(n.next(v))}catch(c){a(c)}}function u(v){try{r(n.throw(v))}catch(c){a(c)}}function r(v){var c;v.done?e(v.value):(c=v.value,c instanceof t?c:new t(function(m){m(c)})).then(s,u)}r((n=n.apply(l,f||[])).next())});var l,f,t,n}}}]}})(),K})())})(V);var z=V.exports;const tt=q(z);export{tt as l};
