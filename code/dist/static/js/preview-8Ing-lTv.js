import{a as K}from"./@vueuse_core@11.1.0_vue@3.5.12_typescript@5.5.4_-BKaerpSy.js";import"./index-Ghdj5350.js";import"./store@2.0.12-RoMfFez2.js";import{u as M}from"./index-BEUtcyhA.js";import"./@wangeditor_plugin-link-card@1.0.0_@wangeditor_editor@5.1.23_snabbdom@3.6.2-D_kdJ7Fs.js";import"./@wangeditor_editor@5.1.23-BNs7_II4.js";import{bB as R,bw as X}from"./lodash-es@4.17.21-D6PnhKvy.js";import{a as G}from"./element-plus@2.8.4_vue@3.5.12_typescript@5.5.4_-C7CHjwzj.js";import{d as T,b as m,a,c as $,H as C,i as N,L as n,I as O,F as x,n as Q,_ as p,K as u,P as V,O as _,f as F,X as W}from"./@vue_runtime-core@3.5.12-Bt7zQ28n.js";import{r as d,v as Y}from"./@vue_reactivity@3.5.12-vtUNgENk.js";import{O as Z}from"./@vue_shared@3.5.12-UFe9jxSY.js";import{_ as tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./@vueuse_shared@11.1.0_vue@3.5.12_typescript@5.5.4_-DXriuop5.js";import"./@vue_runtime-dom@3.5.12-iSYHT88p.js";import"./mitt@3.0.1-C1z4c41a.js";import"./axios@1.7.7-CCb-kr4I.js";import"./nprogress@0.2.0-B8S133N7.js";import"./@braintree_sanitize-url@6.0.4-BB1FEM6a.js";import"./pinia@2.2.4_typescript@5.5.4_vue@3.5.12_typescript@5.5.4_-CVf9nHlw.js";import"./vue-demi@0.14.10_vue@3.5.12_typescript@5.5.4_-DvPnGcuI.js";import"./vue@3.5.12_typescript@5.5.4-kKmasoJt.js";import"./@bytemd_plugin-math@1.21.0_bytemd@1.21.0-Dc_JUVYX.js";import"./remark-math@5.1.1-C8vps_rM.js";import"./micromark-extension-math@2.1.2-StTlgfH1.js";import"./micromark-factory-space@1.1.0-C57A7NS2.js";import"./micromark-util-character@1.2.0-D-NaLusr.js";import"./katex@0.16.11-CvgdMzdh.js";import"./mdast-util-math@2.0.2-Boy2OOKg.js";import"./longest-streak@3.1.0-BHNUWYJP.js";import"./mdast-util-to-markdown@1.5.0-D9VzXa1u.js";import"./micromark-util-decode-string@1.1.0-CdHYbWAu.js";import"./decode-named-character-reference@1.0.2-C3-224fz.js";import"./micromark-util-decode-numeric-character-reference@1.1.0-DRnCnno4.js";import"./vue-router@4.4.5_vue@3.5.12_typescript@5.5.4_-DGEeQixy.js";import"./mockjs@1.1.0-hXCvQ4kl.js";import"./comm-DyJRlPK0.js";import"./vue-echarts@7.0.3_@vue_runtime-core@3.5.12_echarts@5.5.1_vue@3.5.12_typescript@5.5.4_-tmE62Ovn.js";import"./echarts@5.5.1-D8FyPvXx.js";import"./tslib@2.3.0-BDyQ-Jie.js";import"./zrender@5.6.0-CH1asNwC.js";import"./@vueuse_shared@9.13.0_vue@3.5.12_typescript@5.5.4_-u9BR5ga7.js";import"./@vueuse_core@9.13.0_vue@3.5.12_typescript@5.5.4_-B3H9WZsa.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.12_typescript@5.5.4_-DwlSpvcG.js";import"./@sxzz_popperjs-es@2.11.7-DkudPAZk.js";import"./@ctrl_tinycolor@3.6.1--gef7wIN.js";import"./dayjs@1.11.13-DXimfR00.js";import"./async-validator@4.2.5-DbzRl2Zc.js";import"./memoize-one@6.0.0-DQFWdy6B.js";import"./normalize-wheel-es@1.2.0-D2sExr9L.js";import"./@floating-ui_dom@1.6.11-Db5K7U0i.js";import"./@floating-ui_core@1.6.8-B67JZAQv.js";import"./@floating-ui_utils@0.2.8-BSxVqCX2.js";import"./lodash-unified@1.0.3_@types_lodash-es@4.17.12_lodash-es@4.17.21_lodash@4.17.21-D8rsWRp7.js";const et={class:"cl-editor-preview"},ot={class:"cl-editor-preview__container"},rt=T({name:"cl-editor-preview"}),it=T({...rt,props:{modelValue:String,title:String,name:{type:String,required:!0},text:{type:String,default:"点击查看"},showBtn:{type:Boolean,default:!0},height:{type:String,default:"60vh"},width:{type:String,default:"60%"},formatter:Function,tabs:Array,props:Object},setup(l,{expose:U}){const o=l,{refs:j,setRefs:z}=M(),{copy:E}=K(),c=d(!1),s=d(""),w=d(),b=d(0),f=d([]),v=m(()=>o.name=="monaco"),I=m(()=>!v.value),L=m(()=>v),P=m(()=>({language:w.value,...o.props})),q=m(()=>o.title||(v.value?"代码预览":"文本预览"));async function k(t){t||(t=o.modelValue),o.formatter&&(t=o.formatter(t)),o.tabs?(f.value=o.tabs,S(0)):h(t),c.value=!0}function h(t){R(t)?s.value=t:X(t)&&(s.value=JSON.stringify(t,null,4))}async function S(t){var r,g;const e=f.value[t];w.value=e.language,h(e.data),await Q(),v.value&&((g=(r=j.editor)==null?void 0:r.formatCode)==null||g.call(r))}function B(){c.value=!1}function A(){E(s.value),G.success("复制成功")}return U({open:k,close:B}),(t,e)=>{const r=p("el-button"),g=p("el-tab-pane"),D=p("el-tabs"),H=p("cl-editor"),J=p("cl-dialog");return a(),$(x,null,[C(t.$slots,"default",{},()=>[l.showBtn?(a(),u(r,{key:0,onClick:e[0]||(e[0]=i=>k())},{default:n(()=>[V(Z(l.text),1)]),_:1})):_("",!0)],!0),N(J,O({modelValue:c.value,"onUpdate:modelValue":e[3]||(e[3]=i=>c.value=i),height:l.height,width:l.width,title:q.value,scrollbar:I.value,"append-to-body":""},t.$attrs),{footer:n(()=>[N(r,{onClick:B},{default:n(()=>e[4]||(e[4]=[V("关闭")])),_:1}),L.value?(a(),u(r,{key:0,type:"success",onClick:A},{default:n(()=>e[5]||(e[5]=[V("复制")])),_:1})):_("",!0)]),default:n(()=>[F("div",et,[f.value.length>1?(a(),u(D,{key:0,modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=i=>b.value=i),type:"card",onTabChange:S},{default:n(()=>[(a(!0),$(x,null,W(f.value,(i,y)=>(a(),u(g,{key:y,label:i.name,name:y,lazy:y!=0},null,8,["label","name","lazy"]))),128))]),_:1},8,["modelValue"])):_("",!0),F("div",ot,[C(t.$slots,"prepend",{},void 0,!0),(a(),u(H,O({ref:Y(z)("editor"),key:b.value},P.value,{modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=i=>s.value=i),name:`cl-editor-${l.name}`,height:"100%",preview:""}),null,16,["modelValue","name"])),C(t.$slots,"append",{},void 0,!0)])])]),_:3},16,["modelValue","height","width","title","scrollbar"])],64)}}}),ie=tt(it,[["__scopeId","data-v-bdf903fe"]]);export{ie as default};
